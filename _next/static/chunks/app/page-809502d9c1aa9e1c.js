(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6231:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>es});var r=a(5155),s=a(2115),n=a(9164),l=a(4641),i=a(7860),d=a(9340),o=a(7140),c=a(8039),u=a(4190),m=a(3520),f=a(7690),x=a(2355),p=a(3052),h=a(7924),g=a(4616),v=a(9708),b=a(2085),j=a(2596),y=a(9688);function N(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,y.QP)((0,j.$)(t))}let w=(0,b.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),k=s.forwardRef((e,t)=>{let{className:a,variant:s,size:n,asChild:l=!1,...i}=e,d=l?v.DX:"button";return(0,r.jsx)(d,{className:N(w({variant:s,size:n,className:a})),ref:t,...i})});k.displayName="Button";let C=s.forwardRef((e,t)=>{let{className:a,type:s,...n}=e;return(0,r.jsx)("input",{type:s,className:N("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...n})});C.displayName="Input";var D=a(9074),R=a(4186),E=a(968);let S=(0,b.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),P=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(E.b,{ref:t,className:N(S(),a),...s})});P.displayName=E.b.displayName;let A=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("textarea",{className:N("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...s})});A.displayName="Textarea";var F=a(5212),M=a(6474),z=a(7863),T=a(5196);let U=F.bL;F.YJ;let O=F.WT,I=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(F.l9,{ref:t,className:N("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...n,children:[s,(0,r.jsx)(F.In,{asChild:!0,children:(0,r.jsx)(M.A,{className:"h-4 w-4 opacity-50"})})]})});I.displayName=F.l9.displayName;let J=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(F.PP,{ref:t,className:N("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(z.A,{className:"h-4 w-4"})})});J.displayName=F.PP.displayName;let L=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(F.wn,{ref:t,className:N("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(M.A,{className:"h-4 w-4"})})});L.displayName=F.wn.displayName;let _=s.forwardRef((e,t)=>{let{className:a,children:s,position:n="popper",...l}=e;return(0,r.jsx)(F.ZL,{children:(0,r.jsxs)(F.UC,{ref:t,className:N("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...l,children:[(0,r.jsx)(J,{}),(0,r.jsx)(F.LM,{className:N("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(L,{})]})})});_.displayName=F.UC.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(F.JU,{ref:t,className:N("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})}).displayName=F.JU.displayName;let G=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(F.q7,{ref:t,className:N("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(F.VF,{children:(0,r.jsx)(T.A,{className:"h-4 w-4"})})}),(0,r.jsx)(F.p4,{children:s})]})});G.displayName=F.q7.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(F.wv,{ref:t,className:N("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=F.wv.displayName;var H=a(2330),V=a(4416);let q=H.bL;H.l9;let W=H.ZL;H.bm;let Y=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(H.hJ,{ref:t,className:N("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});Y.displayName=H.hJ.displayName;let B=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(W,{children:[(0,r.jsx)(Y,{}),(0,r.jsxs)(H.UC,{ref:t,className:N("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...n,children:[s,(0,r.jsxs)(H.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(V.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});B.displayName=H.UC.displayName;let Z=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:N("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};Z.displayName="DialogHeader";let Q=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(H.hE,{ref:t,className:N("text-lg font-semibold leading-none tracking-tight",a),...s})});Q.displayName=H.hE.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(H.VY,{ref:t,className:N("text-sm text-muted-foreground",a),...s})}).displayName=H.VY.displayName;var X=a(831),$=a(6019);function K(){let[e,t]=(0,s.useState)([]);return(0,s.useEffect)(()=>{let e=localStorage.getItem("calendar-events");e&&t(JSON.parse(e))},[]),(0,s.useEffect)(()=>{localStorage.setItem("calendar-events",JSON.stringify(e))},[e]),{events:e,addEvent:e=>{let a={...e,id:crypto.randomUUID()},r="none"!==e.recurrence?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:52,a=[e],r=new Date(e.date);for(let s=1;s<t;s++){let t;switch(e.recurrence){case"daily":t=(0,X.f)(r,s);break;case"weekly":t=(0,$.J)(r,s);break;case"monthly":t=(0,c.P)(r,s);break;case"custom":if(!e.customRecurrence)continue;{let{interval:a,unit:n}=e.customRecurrence;switch(n){case"days":t=(0,X.f)(r,s*a);break;case"weeks":t=(0,$.J)(r,s*a);break;case"months":t=(0,c.P)(r,s*a);break;default:continue}}break;default:continue}if(t.getFullYear()>r.getFullYear()+1)break;a.push({...e,id:crypto.randomUUID(),date:t.toISOString()})}return a}(a):[a];t(e=>[...e,...r])},updateEvent:(e,a)=>{t(t=>t.map(t=>t.id===e?{...a,id:e}:t))},deleteEvent:e=>{t(t=>t.filter(t=>t.id!==e))}}}let ee=[{name:"Blue",value:"bg-blue-500"},{name:"Green",value:"bg-green-500"},{name:"Red",value:"bg-red-500"},{name:"Purple",value:"bg-purple-500"},{name:"Orange",value:"bg-orange-500"},{name:"Pink",value:"bg-pink-500"}];function et(e){let{isOpen:t,onClose:a,onSubmit:n,onDelete:l,initialData:i,selectedDate:o}=e,{events:c}=K(),[m,f]=(0,s.useState)({title:"",description:"",date:"",time:"",recurrence:"none",color:"bg-blue-500",customRecurrence:{interval:1,unit:"weeks"}}),[x,p]=(0,s.useState)("");(0,s.useEffect)(()=>{if(i){let e=new Date(i.date);f({title:i.title,description:i.description,date:(0,u.GP)(e,"yyyy-MM-dd"),time:(0,u.GP)(e,"HH:mm"),recurrence:i.recurrence,color:i.color,customRecurrence:i.customRecurrence||{interval:1,unit:"weeks"}})}else o&&f(e=>({...e,date:(0,u.GP)(o,"yyyy-MM-dd"),time:"09:00"}))},[i,o]),(0,s.useEffect)(()=>{m.date&&m.time&&m.title?p(function(e,t){let a=t.filter(t=>{let a=new Date(t.date);return(0,d.r)(e,a)&&36e5>Math.abs(e.getTime()-a.getTime())});if(a.length>0){let e=(0,u.GP)(new Date(a[0].date),"HH:mm");return'Warning: This event conflicts with "'.concat(a[0].title,'" at ').concat(e)}return""}(new Date("".concat(m.date,"T").concat(m.time)),c.filter(e=>!i||e.id!==i.id))):p("")},[m.date,m.time,m.title,c,i]);let h=(e,t)=>{f(a=>({...a,[e]:t}))},g=(e,t)=>{f(a=>({...a,customRecurrence:{...a.customRecurrence,[e]:t}}))};return(0,r.jsx)(q,{open:t,onOpenChange:a,children:(0,r.jsxs)(B,{className:"sm:max-w-[500px]",children:[(0,r.jsx)(Z,{children:(0,r.jsx)(Q,{children:i?"Edit Event":"Add New Event"})}),(0,r.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!m.title||!m.date||!m.time)return;let t=new Date("".concat(m.date,"T").concat(m.time));n({title:m.title,description:m.description,date:t.toISOString(),recurrence:m.recurrence,color:m.color,customRecurrence:"custom"===m.recurrence?m.customRecurrence:void 0})},className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(P,{htmlFor:"title",children:"Event Title *"}),(0,r.jsx)(C,{id:"title",value:m.title,onChange:e=>h("title",e.target.value),placeholder:"Enter event title",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(P,{htmlFor:"description",children:"Description"}),(0,r.jsx)(A,{id:"description",value:m.description,onChange:e=>h("description",e.target.value),placeholder:"Enter event description",rows:3})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(P,{htmlFor:"date",children:"Date *"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(D.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,r.jsx)(C,{id:"date",type:"date",value:m.date,onChange:e=>h("date",e.target.value),className:"pl-10",required:!0})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(P,{htmlFor:"time",children:"Time *"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(R.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,r.jsx)(C,{id:"time",type:"time",value:m.time,onChange:e=>h("time",e.target.value),className:"pl-10",required:!0})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(P,{htmlFor:"recurrence",children:"Recurrence"}),(0,r.jsxs)(U,{value:m.recurrence,onValueChange:e=>h("recurrence",e),children:[(0,r.jsx)(I,{children:(0,r.jsx)(O,{placeholder:"Select recurrence"})}),(0,r.jsxs)(_,{children:[(0,r.jsx)(G,{value:"none",children:"No Recurrence"}),(0,r.jsx)(G,{value:"daily",children:"Daily"}),(0,r.jsx)(G,{value:"weekly",children:"Weekly"}),(0,r.jsx)(G,{value:"monthly",children:"Monthly"}),(0,r.jsx)(G,{value:"custom",children:"Custom"})]})]})]}),"custom"===m.recurrence&&(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(P,{htmlFor:"interval",children:"Every"}),(0,r.jsx)(C,{id:"interval",type:"number",min:"1",value:m.customRecurrence.interval,onChange:e=>g("interval",Number.parseInt(e.target.value))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(P,{htmlFor:"unit",children:"Unit"}),(0,r.jsxs)(U,{value:m.customRecurrence.unit,onValueChange:e=>g("unit",e),children:[(0,r.jsx)(I,{children:(0,r.jsx)(O,{})}),(0,r.jsxs)(_,{children:[(0,r.jsx)(G,{value:"days",children:"Days"}),(0,r.jsx)(G,{value:"weeks",children:"Weeks"}),(0,r.jsx)(G,{value:"months",children:"Months"})]})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(P,{children:"Event Color"}),(0,r.jsx)("div",{className:"flex gap-2 mt-2",children:ee.map(e=>(0,r.jsx)("button",{type:"button",className:"w-8 h-8 rounded-full ".concat(e.value," ").concat(m.color===e.value?"ring-2 ring-offset-2 ring-primary":""),onClick:()=>h("color",e.value)},e.value))})]}),x&&(0,r.jsx)("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:(0,r.jsx)("p",{className:"text-sm text-yellow-800",children:x})}),(0,r.jsxs)("div",{className:"flex justify-between pt-4",children:[(0,r.jsx)("div",{children:l&&(0,r.jsx)(k,{type:"button",variant:"destructive",onClick:l,children:"Delete Event"})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(k,{type:"button",variant:"outline",onClick:a,children:"Cancel"}),(0,r.jsx)(k,{type:"submit",children:i?"Update Event":"Create Event"})]})]})]})]})})}function ea(e){let{event:t,onClick:a,onDragStart:s,onDragEnd:n,isDragging:l}=e,i=(0,u.GP)(new Date(t.date),"HH:mm");return(0,r.jsxs)("div",{className:"text-xs p-1 rounded cursor-pointer transition-all hover:scale-105 ".concat(t.color," text-white ").concat(l?"opacity-50 scale-95":""),onClick:a,draggable:!0,onDragStart:s,onDragEnd:n,title:"".concat(t.title," - ").concat(i),children:[(0,r.jsx)("div",{className:"font-medium truncate",children:t.title}),(0,r.jsx)("div",{className:"opacity-90",children:i})]})}function er(){let[e,t]=(0,s.useState)(new Date),[a,v]=(0,s.useState)(null),[b,j]=(0,s.useState)(!1),[y,N]=(0,s.useState)(null),[w,D]=(0,s.useState)(""),{events:R,addEvent:E,updateEvent:S,deleteEvent:P}=K(),{draggedEvent:A,handleDragStart:F,handleDragEnd:M,handleDrop:z}=function(){let[e,t]=(0,s.useState)(null);return{draggedEvent:e,handleDragStart:(e,a)=>{t(a),e.dataTransfer.effectAllowed="move"},handleDragEnd:()=>{t(null)},handleDrop:(a,r,s)=>{a.preventDefault(),e&&(s(e,r),t(null))}}}(),T=(0,n.w)(e),U=(0,l.p)(e),O=(0,i.k)({start:T,end:U}),I=e=>R.filter(t=>!!(!w||t.title.toLowerCase().includes(w.toLowerCase())||t.description.toLowerCase().includes(w.toLowerCase()))&&(0,d.r)(new Date(t.date),e)),J=e=>{v(e),N(null),j(!0)},L=e=>{N(e),v(new Date(e.date)),j(!0)},_=e=>{P(e),j(!1),N(null),v(null)},G=(e,t)=>{let a={...e,date:t.toISOString()};S(e.id,a)};return(0,r.jsxs)("div",{className:"max-w-6xl mx-auto p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(k,{variant:"outline",size:"icon",onClick:()=>{t((0,o.a)(e,1))},children:(0,r.jsx)(x.A,{className:"h-4 w-4"})}),(0,r.jsx)("h2",{className:"text-2xl font-semibold min-w-[200px] text-center",children:(0,u.GP)(e,"MMMM yyyy")}),(0,r.jsx)(k,{variant:"outline",size:"icon",onClick:()=>{t((0,c.P)(e,1))},children:(0,r.jsx)(p.A,{className:"h-4 w-4"})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(h.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,r.jsx)(C,{placeholder:"Search events...",value:w,onChange:e=>D(e.target.value),className:"pl-10 w-64"})]}),(0,r.jsxs)(k,{onClick:()=>J(new Date),children:[(0,r.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Add Event"]})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,r.jsx)("div",{className:"p-4 text-center font-semibold text-muted-foreground",children:e},e))}),(0,r.jsx)("div",{className:"grid grid-cols-7 gap-1 border rounded-lg overflow-hidden",children:O.map((t,a)=>{let s=I(t),n=(0,m.t)(t,e),l=(0,f.c)(t);return(0,r.jsxs)("div",{className:"min-h-[120px] p-2 border-r border-b cursor-pointer transition-colors hover:bg-muted/50 ".concat(n?"":"bg-muted/20 text-muted-foreground"," ").concat(l?"bg-primary/10":""),onClick:()=>J(t),onDrop:e=>z(e,t,G),onDragOver:e=>e.preventDefault(),children:[(0,r.jsx)("div",{className:"text-sm font-medium mb-2 ".concat(l?"text-primary font-bold":""),children:(0,u.GP)(t,"d")}),(0,r.jsxs)("div",{className:"space-y-1",children:[s.slice(0,3).map(e=>(0,r.jsx)(ea,{event:e,onClick:t=>{t.stopPropagation(),L(e)},onDragStart:t=>F(t,e),onDragEnd:M,isDragging:(null==A?void 0:A.id)===e.id},e.id)),s.length>3&&(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:["+",s.length-3," more"]})]})]},a)})}),b&&(0,r.jsx)(et,{isOpen:b,onClose:()=>{j(!1),N(null),v(null)},onSubmit:e=>{y?S(y.id,e):E(e),j(!1),N(null),v(null)},onDelete:y?()=>_(y.id):void 0,initialData:y,selectedDate:a})]})}function es(){return(0,r.jsx)("div",{className:"min-h-screen bg-background",children:(0,r.jsxs)("div",{className:"container mx-auto py-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-center mb-8",children:"Event Calendar"}),(0,r.jsx)(er,{})]})})}},9601:(e,t,a)=>{Promise.resolve().then(a.bind(a,6231))}},e=>{var t=t=>e(e.s=t);e.O(0,[811,441,684,358],()=>t(9601)),_N_E=e.O()}]);